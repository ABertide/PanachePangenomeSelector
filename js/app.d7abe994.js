(function(){"use strict";var e={1831:function(e,t,a){var s=a(9242),o=a(3396),n=a(7718),l=a(6439),i=a(9156),r=a(9271),c=a(3144),m=a(9870);const u={class:"margin-auto"},d=(0,o.Uk)("Pangenome Selection"),p=(0,o.Uk)(" Structural Variations "),h=(0,o.Uk)(" Presence Absence "),b=(0,o.Uk)("A propos");function g(e,t,a,s,g,f){const v=(0,o.up)("router-link"),y=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n.q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l.L,{app:""},{default:(0,o.w5)((()=>[(0,o.Wm)(i.g),(0,o._)("div",u,[(0,o.Wm)(c.d,{modelValue:s.selectedRoute,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedRoute=e),class:"header-tabs"},{default:(0,o.w5)((()=>[(0,o.Wm)(m.L,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{to:{name:"PangenomeSelection"}},{default:(0,o.w5)((()=>[d])),_:1})])),_:1}),(0,o.Wm)(m.L,null,{default:(0,o.w5)((()=>[p])),_:1}),(0,o.Wm)(m.L,null,{default:(0,o.w5)((()=>[h])),_:1}),(0,o.Wm)(m.L,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{to:{name:"About"}},{default:(0,o.w5)((()=>[b])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1}),(0,o.Wm)(r.O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1})}const f=[{id:0,name:"pangenome_1",assemblies:["assembly_name_1","assembly_name_2","assembly_name_3","assembly_name_4","assembly_name_5","assembly_name_6","assembly_name_15","assembly_name_16","assembly_name_17","assembly_name_18"],creationDate:"2021-09-03 13:33:32",selected:!1},{id:1,name:"pangenome_2",assemblies:["assembly_name_7","assembly_name_8","assembly_name_9","assembly_name_10","assembly_name_11","assembly_name_12","assembly_name_13","assembly_name_14","assembly_name_15","assembly_name_16","assembly_name_17","assembly_name_18"],creationDate:"2021-08-21 12:04:28",selected:!1}];var v=f,y=a(65),_=a(4870),k={name:"App",setup(){const e=(0,_.iH)(0),t=(0,y.oR)();return t.dispatch("pangenomes/updatePangenomesAction",v),{selectedRoute:e}}},w=a(89);const S=(0,w.Z)(k,[["render",g]]);var A=S,R=a(678),M=a(8258),F=a(6824),U=a(8521);const I={class:"Home"},C=(0,o._)("h1",null,"Pangenome Selector",-1),G=(0,o.Uk)();function V(e,t,a,s,n,l){const i=(0,o.up)("PcaCharts"),r=(0,o.up)("AssembliesTable"),c=(0,o.up)("PangenomePanel");return(0,o.wg)(),(0,o.iD)("div",I,[C,(0,o.Wm)(M.Z,{class:"mb-5",modelValue:e.assembliesFile,"onUpdate:modelValue":t[0]||(t[0]=t=>e.assembliesFile=t),accept:".csv, .tsv",label:"Choose a file or drop it here...","show-size":"",counter:"",onChange:e.onFileChange},null,8,["modelValue","onChange"]),(0,o.Wm)(F.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(U.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i),G,(0,o.Wm)(r)])),_:1}),(0,o.Wm)(U.D,{lg:"3",md:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})])),_:1})])}var j=a(7139),D=a(6357),W=a(2902);const J={key:0},K=(0,o._)("h2",{class:"mb-4"},"Pangenome Panel",-1),N={class:"mb-5"},O=(0,o._)("h4",null,"Chose Pangenomes",-1),P=(0,o._)("h4",null,"List of Pangenome",-1),E=["src"],Z=(0,o.Uk)(" Submit "),Q=(0,o.Uk)(" Submited ");function q(e,t,a,s,n,l){const i=(0,o.up)("va-data-table");return s.pangenomesToTable?((0,o.wg)(),(0,o.iD)("div",J,[K,(0,o.Wm)(M.Z,{class:"mb-5",modelValue:s.pangenomeFile,"onUpdate:modelValue":t[0]||(t[0]=e=>s.pangenomeFile=e),accept:".csv, .tsv",label:"Choose a file or drop it here...","show-size":"",counter:"",onChange:s.onChangeFile},null,8,["modelValue","onChange"]),(0,o._)("div",N,[O,(0,o.Wm)(W.h,{modelValue:s.pangenomeSearched,"onUpdate:modelValue":t[1]||(t[1]=e=>s.pangenomeSearched=e),label:"Enter a pangenome id"},null,8,["modelValue"])]),(0,o._)("div",null,[P,(0,o.Wm)(i,{items:s.pangenomesToTable,columns:s.headers,selectable:!0,modelValue:s.selectedItems,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedItems=e),"select-mode":"single",onMouseover:t[3]||(t[3]=e=>s.myRowHover(e)),onMouseout:t[4]||(t[4]=e=>s.myUnRowHover(e)),onSelectionChange:s.selectAction,onClick:s.updateSelectPangenomes},{"cell(icon)":(0,o.w5)((e=>[(0,o._)("img",{style:{height:"40px"},src:e.value},null,8,E)])),"cell(id)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"cell(panID)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"cell(date)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),_:1},8,["items","columns","modelValue","onSelectionChange","onClick"]),s.submited?((0,o.wg)(),(0,o.j4)(D.T,{key:1,disabled:""},{default:(0,o.w5)((()=>[Q])),_:1})):((0,o.wg)(),(0,o.j4)(D.T,{key:0,color:s.isSubmitable?"secondary":"grey",disabled:!s.isSubmitable,onClick:s.submit},{default:(0,o.w5)((()=>[Z])),_:1},8,["color","disabled","onClick"]))])])):(0,o.kq)("",!0)}var x={setup(){const e=(0,y.oR)(),t=(0,_.iH)(""),s=(0,_.iH)([]);let n=(0,_.iH)(""),l=(0,_.iH)(!1),i=(0,_.iH)([]);const r=(0,o.Fl)((()=>i.value.length>0)),c=(0,o.Fl)((()=>e.state.assemblies.assemblies)),m=(0,o.Fl)((()=>e.getters["assemblies/assembliesSelected"])),u=(0,o.Fl)((()=>e.state.pangenomes.pangenomes));let d=(0,o.Fl)((()=>{let e=u.value.map((e=>{let t=0;if(0!==m.value.length){const a=m.value.filter((t=>e.assemblies.includes(t.assembly_name)));t=a.length/e.assemblies.length*100}const s={percentage:Math.round(t),id:e.id,panID:e.name,date:e.creationDate};return s["icon"]=a(0===t?6547:t<=25?3758:t<=50?5931:t<=75?2372:8316),s}));return null!=t.value&&void 0!=e&&(e=e.filter((e=>e.panID.toLowerCase().indexOf(t.value.trim().toLowerCase())>-1))),e}));const p=(0,_.iH)(d.value.map((e=>e.panID))),h=(0,o.Fl)((()=>{const e=[{key:"icon",label:"Assemblies selected",sortable:!0},{key:"id",label:"Id",sortable:!0},{key:"panID",label:"PanID",sortable:!0},{key:"date",label:"Creation Date",sortable:!0}];return e})),b=()=>{l.value=!0},g=e=>{let t=e.target.files||e.dataTransfer.files;t.length&&v(t[0])},f=()=>{const t=i.value[0];void 0!==t&&e.dispatch("pangenomes/updateIsSelectedStateAction",t)},v=t=>{let a=new Promise((e=>{var a=new FileReader;a.onload=()=>{e(n=a.result)},a.readAsText(t)}));a.then((()=>{let t=n.split("\n"),a=t.map((e=>{if(!e.startsWith("id")&&0!==e.length){let t=e.split("\t"),a={id:parseInt(t[0]),name:t[1],assemblies:t[2].split(", "),creationDate:t[3]};return a}}));a=a.filter((e=>void 0!==e));let s=a.map((e=>(e["selected"]=!1,e)));e.dispatch("pangenomes/updatePangenomesAction",s)}),(e=>{console.error(e)}))},k=t=>{const a=t.path.filter((e=>"va-data-table__table-tr"===e.className));if(0!==a.length&&a[0].outerText.startsWith("check")){const t=a[0].outerText.split("\t")[3],s=c.value.filter((e=>e.pangenome.includes(t))).map((e=>e.assembly_name)),o=u.value.filter((e=>e.selected));if(0===o.length)e.state.chart.chart.instance.series().points((e=>s.includes(e.name)&&!0===e.selected)).options({color:"#c95e00"}),e.state.chart.chart.instance.series().points((e=>s.includes(e.name)&&!1===e.selected)).options({color:"gray"});else{const t=o.map((e=>e.assemblies)).flat();e.state.chart.chart.instance.series().points((e=>s.includes(e.name)&&t.includes(e.name))).options({color:"black"}),e.state.chart.chart.instance.series().points((e=>s.includes(e.name)&&!0===e.selected&&!t.includes(e.name))).options({color:"blue"}),e.state.chart.chart.instance.series().points((e=>!s.includes(e.name)&&!0===e.selected&&t.includes(e.name))).options({color:"#c95e00"}),e.state.chart.chart.instance.series().points((e=>s.includes(e.name)&&!1===e.selected&&!t.includes(e.name))).options({color:"blue"}),e.state.chart.chart.instance.series().points((e=>!s.includes(e.name)&&!1===e.selected&&t.includes(e.name))).options({color:"#ffda8f"})}}},w=t=>{const a=t.currentSelectedItems[0],s=t.previousSelectedItems[0];void 0!==s&&void 0!==a&&s.panID===a.panID&&(e.dispatch("pangenomes/updateIsNotSelectedStateAction",a),i.value=[])},S=()=>{const t=u.value.filter((e=>e.selected));let a=t.map((e=>e.assemblies)).flat();e.state.chart.chart.instance.series().points((e=>!0===e.selected)).options({color:"gray"}),a.length>0?(e.state.chart.chart.instance.series().points((e=>!1===e.selected&&a.includes(e.name))).options({color:"black"}),e.state.chart.chart.instance.series().points((e=>!1===e.selected&&!a.includes(e.name))).options({color:"#cad2e0"})):e.state.chart.chart.instance.series().points((e=>!1===e.selected)).options({color:"black"})};return{pangenomeSearched:t,pangenomeFile:s,isSubmitable:r,pangenomes:u,headers:h,selectedItems:i,pangenomesToTable:d,submited:l,submit:b,pangenomesID:p,onChangeFile:g,myUnRowHover:S,myRowHover:k,assembliesSelected:m,selectAction:w,updateSelectPangenomes:f}}};const H=(0,w.Z)(x,[["render",q]]);var T=H,B=a(7229),Y=a(6572),L=a(1888),z=a(1334),X=a(6317),$=a(6399),ee=a(9234),te=a(3289);const ae=e=>((0,o.dD)("data-v-9f220338"),e=e(),(0,o.Cn)(),e),se=ae((()=>(0,o._)("h2",null,"Assemblies Table",-1))),oe=(0,o.Uk)(" Heteroic group filter "),ne=ae((()=>(0,o._)("h3",null,"Chose heterotic groups to display",-1))),le=(0,o.Uk)(" Close "),ie=["onClick"],re={class:"row"},ce=["onClick"],me={class:"row"},ue={class:"mr-1",id:"header-title"},de={class:"row align-items-center"},pe={class:"mr-1",id:"header-title"};function he(e,t,a,s,n,l){const i=(0,o.up)("va-checkbox"),r=(0,o.up)("va-input"),c=(0,o.up)("va-data-table");return(0,o.wg)(),(0,o.iD)("div",null,[se,(0,o.Wm)($.B,{modelValue:s.showModal,"onUpdate:modelValue":t[1]||(t[1]=e=>s.showModal=e),"max-width":"290"},{default:(0,o.w5)((()=>[(0,o.Wm)(B._,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Y.E,{class:"text-h5"},{default:(0,o.w5)((()=>[oe])),_:1}),(0,o.Wm)(L.Z,null,{default:(0,o.w5)((()=>[ne,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.heteroticGroups,(e=>((0,o.wg)(),(0,o.j4)(X.x,{key:e.value,modelValue:s.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selected=e),label:e,value:e,"hide-details":""},null,8,["modelValue","label","value"])))),128))])),_:1}),(0,o.Wm)(z.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ee.C),(0,o.Wm)(D.T,{color:"green darken-1",text:"",onClick:s.showModalAction},{default:(0,o.w5)((()=>[le])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(c,{items:s.assembliesTable,columns:s.headers,hoverable:!0,onMouseover:t[7]||(t[7]=e=>s.myRowHover(e)),onMouseout:t[8]||(t[8]=e=>s.myUnRowHover(e))},{"cell(selected)":(0,o.w5)((e=>[(0,o.Wm)(i,{modelValue:s.selectedItems,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedItems=e),"array-value":e.cells[2].value,onClick:t=>s.selectAction(e.cells[2].value)},null,8,["modelValue","array-value","onClick"])])),"header(id)":(0,o.w5)((e=>[(0,o._)("div",null,[(0,o._)("span",{onClick:t=>s.sortCol(e.label)},[(0,o.Uk)((0,j.zw)(e.label)+" ",1),(0,o.Wm)(te.t,{large:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,j.zw)(s.chevrons.id),1)])),_:1})],8,ie)])])),"cell(id)":(0,o.w5)((e=>[(0,o._)("div",null,[(0,o._)("span",null,(0,j.zw)(e.value),1)])])),"cell(assemblyName)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"header(assemblyName)":(0,o.w5)((e=>[(0,o._)("div",re,[(0,o._)("span",{class:"mr-1",id:"header-title",onClick:t=>s.sortCol(e.label)},[(0,o.Uk)((0,j.zw)(e.label)+" ",1),(0,o.Wm)(te.t,{large:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,j.zw)(s.chevrons.assemblyName),1)])),_:1})],8,ce),(0,o.Wm)(r,{placeholder:"Filter...",modelValue:s.assemblyNameFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>s.assemblyNameFilter=e)},null,8,["modelValue"])])])),"cell(phenotype)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"header(phenotype)":(0,o.w5)((e=>[(0,o._)("div",me,[(0,o._)("span",ue,(0,j.zw)(e.label),1),(0,o.Wm)(r,{placeholder:"Filter...",modelValue:s.phenotypeFilter,"onUpdate:modelValue":t[4]||(t[4]=e=>s.phenotypeFilter=e)},null,8,["modelValue"])])])),"cell(pangenome)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"header(pangenome)":(0,o.w5)((e=>[(0,o._)("div",de,[(0,o._)("span",pe,(0,j.zw)(e.label),1),(0,o.Wm)(r,{placeholder:"Filter...",modelValue:s.pangenomeFilter,"onUpdate:modelValue":t[5]||(t[5]=e=>s.pangenomeFilter=e)},null,8,["modelValue"])])])),"cell(heteroticGroup)":(0,o.w5)((e=>[(0,o._)("span",null,(0,j.zw)(e.value),1)])),"header(heteroticGroup)":(0,o.w5)((e=>[(0,o._)("span",{id:"tooltip-target-1",onClick:t[6]||(t[6]=e=>s.showModalAction())},(0,j.zw)(e.label),1)])),_:1},8,["items","columns"])])}var be={setup(){const e=(0,_.iH)([]),t=(0,_.iH)([]),a=(0,y.oR)(),s=(0,_.iH)(""),n=(0,_.iH)(""),l=(0,_.iH)(""),i=(0,_.iH)(!1);let r=(0,_.iH)(""),c=(0,_.iH)("");const m=(0,_.iH)({assemblyName:"mdi-chevron-down",selected:"mdi-chevron-down",id:"mdi-chevron-down",phenotype:"mdi-chevron-down",pangenome:"mdi-chevron-down"}),u=(0,_.iH)([{key:"selected",label:"",sortable:!1},{key:"id",label:"Id",sortable:!1},{key:"assemblyName",label:"Assembly Name",sortable:!1},{key:"phenotype",label:"Phenotype",sortable:!1},{key:"pangenome",label:"Pangenome",sortable:!1},{key:"heteroticGroup",label:"Heterotic Group",sortable:!1}]),d=(0,o.Fl)((()=>0!==t.value.length?a.state.assemblies.assemblies.filter((e=>0!==e.heterotic_group.filter((e=>t.value.includes(e))).length)):a.state.assemblies.assemblies)),p=()=>{i.value=!i.value},h=(0,o.Fl)((()=>{let e=d.value.map((e=>({id:e.id,assemblyName:e.assembly_name,phenotype:e.phenotype,pangenome:e.pangenome.join(", "),heteroticGroup:e.heterotic_group.join(", "),color:e.color,selected:e.selected,overMoused:e.overMoused})));return""!==s.value&&(e=e.filter((e=>e.assemblyName.toLowerCase().includes(s.value.toLowerCase())))),""!==n.value&&(e=e.filter((e=>e.phenotype.toLowerCase().includes(n.value.toLowerCase())))),""!==l.value&&(e=e.filter((e=>e.pangenome.toLowerCase().includes(l.value.toLowerCase())))),console.log(e),""!==c.value&&0!==e.length&&(e="ascd"===r.value?e.sort(((e,t)=>e[c.value]>t[c.value]?1:t[c.value]>e[c.value]?-1:0)):e.sort(((e,t)=>e[c.value]<t[c.value]?1:t[c.value]<e[c.value]?-1:0))),e})),b=(0,o.Fl)((()=>[...new Set(a.state.assemblies.assemblies.map((e=>e.heterotic_group)).flat())])),g=e=>{e=e.replace(/\s/g,""),e=e[0].toLowerCase()+e.slice(1),c.value=e,"mdi-chevron-down"===m.value[c.value]?(m.value[c.value]="mdi-chevron-up",r.value="ascd"):(m.value[c.value]="mdi-chevron-down",r.value="descd")},f=e=>{const t=d.value.filter((t=>t.assembly_name===e))[0];t.selected?(a.dispatch("assemblies/updateIsNotSelectedStateAction",t),a.state.chart.chart.instance.series().points((e=>e.name===t.assembly_name)).options({color:"black",selected:!1})):(a.dispatch("assemblies/updateIsSelectedStateAction",t),a.state.chart.chart.instance.series().points((e=>e.name===t.assembly_name)).options().items[0].userOptions.marker.outline.color="gray",a.state.chart.chart.instance.series().points((e=>e.name===t.assembly_name)).options({color:"gray",selected:!0}))},v=e=>{const t=e.path.filter((e=>"va-data-table__table-tr"===e.className));if(0!==t.length&&t[0].outerText.startsWith("check")){const e=t[0].outerText.split("\t")[2],s=d.value.filter((t=>t.assembly_name===e))[0];a.state.chart.chart.instance.series().points((e=>e.name===s.assembly_name)).options({color:s.color})}},k=e=>{const t=e.path.filter((e=>"va-data-table__table-tr"===e.className));if(0!==t.length&&t[0].outerText.startsWith("check")){const e=t[0].outerText.split("\t")[2],s=d.value.filter((t=>t.assembly_name===e))[0];a.state.chart.chart.instance.series().points((e=>e.name===s.assembly_name&&!e.selected)).options({color:"black"}),a.state.chart.chart.instance.series().points((e=>e.name===s.assembly_name&&e.selected)).options({color:"gray"})}};return{selectedItems:e,selected:t,assemblies:d,headers:u,assembliesTable:h,showModal:i,showModalAction:p,heteroticGroups:b,selectAction:f,myUnRowHover:k,myRowHover:v,assemblyNameFilter:s,phenotypeFilter:n,pangenomeFilter:l,sortCol:g,chevrons:m}}};const ge=(0,w.Z)(be,[["render",he],["__scopeId","data-v-9f220338"]]);var fe=ge;const ve=(0,o._)("h2",null,"Pca Panache",-1);function ye(e,t,a,s,n,l){const i=(0,o.up)("JSCharting");return(0,o.wg)(),(0,o.iD)("div",null,[ve,(0,o.Wm)(i,{options:s.options,ref:"chart",class:"mb-5"},null,8,["options"])])}var _e=a(4244),ke={components:{JSCharting:_e.ZP},setup(){const e=(0,y.oR)(),t=(0,_.iH)(null),a=(0,_.iH)("marker"),s=(0,_.iH)({type:"marker",height:500,legend:{template:"",visible:!1},series:[]});return(0,o.bv)((()=>{e.dispatch("chart/updateChartAction",t.value)})),{name:a,options:s,chart:t}}};const we=(0,w.Z)(ke,[["render",ye]]);var Se=we,Ae=(0,o.aZ)({name:"PangenomeSelection",components:{AssembliesTable:fe,PangenomePanel:T,PcaCharts:Se},setup(){const e=(0,_.iH)([]);let t=(0,_.iH)("");const a=(0,y.oR)(),s=()=>{let e="#"+(16777215*Math.random()<<0).toString(16);return e},o=e=>{var t=e.target.files||e.dataTransfer.files;t.length&&l(t[0])},n=e=>{let t=[],s=[],o=a.state.chart.chart;if(void 0!==e){e.forEach((e=>{s.push(...e[e.metadata])})),s=[...new Set(s)],s.forEach((a=>t.push({metadataName:a,assemblies:e.filter((e=>e[e.metadata].includes(a)))})));let n=[];return t.forEach((e=>{let t=[];e.assemblies.forEach((e=>{let s="circle",l="",i="black";e.selected&&(i="gray"),!0===e.majore&&(s="square",l=e.assembly_name);let r=n.map((e=>{let t=e.points.map((e=>{if(void 0!==e)return e.name}));if(void 0!==t)return t})),c={x:e.x,y:e.y,name:e.assembly_name,color:i,marker:{type:s},metadata:e.color,label:{text:l,align:"center",color:"black"},selected:e.selected,events:{mouseOver:function(){a.dispatch("assemblies/updateOverMousedStateAction",e),this.series.currentOptions.color=e.color,o.instance.series((t=>e[e.metadata].includes(t.name))).points().items.forEach((t=>{o.instance.series((t=>e[e.metadata].includes(t.name))).points((e=>e.name===t.name)).options({color:t.currentOptions.metadata})}))},mouseOut:function(){this.currentOptions.marker.outline.color="gray",o.instance.series((t=>e[e.metadata].includes(t.name))).points().items.forEach((t=>{t.selected?o.instance.series((t=>e[e.metadata].includes(t.name))).points((e=>e.name===t.name)).options({color:"gray"}):o.instance.series((t=>e[e.metadata].includes(t.name))).points((e=>e.name===t.name)).options({color:"black"})})),this.series.points((t=>t.name===e.assembly_name))&&this.series.points((t=>t.name===e.assembly_name)).items.forEach((t=>{a.dispatch("assemblies/updateNoMoreOverMousedStateAction",e),t.selected?this.series.points((e=>e.name===t.name)).options({color:"gray"}):this.series.points((e=>e.name===t.name)).options({color:"black"})})),this.series.points((t=>t.name!==e.assembly_name)).items.forEach((e=>{e.selected?this.series.points((t=>t.name===e.name)).options({color:"gray"}):this.series.points((t=>t.name===e.name)).options({color:"black"})}))},click:function(){this.series.points((t=>t.name===e.assembly_name)).items.forEach((t=>{a.dispatch("assemblies/updateIsNotSelectedStateAction",e),t.selected?(t.series.currentOptions.color="black",this.series.points((e=>e.name===t.name)).options({color:"black",selected:e.selected}),this.userOptions.marker.outline.color="white"):(a.dispatch("assemblies/updateIsSelectedStateAction",e),t.series.currentOptions.color="gray",this.series.points((e=>e.name===t.name)).options({color:"gray",selected:e.selected}),this.userOptions.marker.outline.color="gray")})),this.series.points((t=>t.name!==e.assembly_name)).items.forEach((e=>{e.selected?(this.series.currentOptions.color="gray",this.series.points((t=>t.name===e.name)).options({color:"gray"})):(this.series.currentOptions.color="black",this.series.points((t=>t.name===e.name)).options({color:"black"}))}))}}};r.flat().includes(e.assembly_name)||t.push(c)})),n.push({id:e.metadataName,name:e.metadataName,type:"marker",pointMarker:"circle",defaultPoint:{marker:{size:11,outline:{width:2,color:"white"}}},color:"black",points:t})})),n}return[]},l=e=>{let o=new Promise((a=>{var s=new FileReader;s.onload=()=>{a(t=s.result)},s.readAsText(e)}));o.then((()=>{let e=t.split("\n"),o=e.map((e=>{if(!e.startsWith("id")&&0!==e.length){let t=e.split("\t"),a={id:parseInt(t[0]),x:parseInt(t[1]),y:parseInt(t[2]),assembly_name:t[3],phenotype:t[4],pangenome:t[5].split(", "),heterotic_group:t[6].split(", "),majore:t[7]};return a}}));o=o.filter((e=>void 0!==e));let l=[],i=o.map((e=>(e["color"]="black",e["metadata"]="heterotic_group",e["selected"]=!1,e["overMoused"]=!1,void 0!==e.majore&&"true"===e.majore.toLowerCase().replace(/\s+/g,"")?e["majore"]=!0:e["majore"]=!1,e))),r=[...new Set(i.map((e=>String(...e.heterotic_group))))];new Set(r.map((()=>l.push(s())))),i.map((e=>{e["color"]=l[r.indexOf(e[e["metadata"]][0])]})),a.dispatch("assemblies/updateAssembliesAction",i);const c=a.state.assemblies.assemblies;let m=n(c);m.forEach((e=>a.state.chart.chart.instance.series.add(e)))}),(e=>{console.error(e)}))};return{assembliesFile:e,fileinput:t,onFileChange:o}}});const Re=(0,w.Z)(Ae,[["render",V]]);var Me=Re;const Fe=[{path:"/",name:"PangenomeSelection",component:Me},{path:"/about",name:"About",component:()=>a.e(443).then(a.bind(a,8034))}],Ue=(0,R.p7)({history:(0,R.PO)("/PanachePangenomeSelector/"),routes:Fe});var Ie=Ue;const Ce={pangenomes:[]},Ge={value:e=>e.pangenomes},Ve={updatePangenomesAction({commit:e},t){e("updatePangenomes",t)},updateIsSelectedStateAction({commit:e},t){e("updateIsSelectedState",t)},updateIsNotSelectedStateAction({commit:e},t){e("updateIsNotSelectedState",t)}},je={updatePangenomes(e,t){e.pangenomes=t},updateIsSelectedState(e,t){e.pangenomes.forEach((e=>e.selected=!1)),e.pangenomes[e.pangenomes.findIndex((e=>e.name===t.panID))].selected=!0},updateIsNotSelectedState(e,t){e.pangenomes[e.pangenomes.findIndex((e=>e.name===t.panID))].selected=!1}};var De={namespaced:!0,state:Ce,getters:Ge,mutations:je,actions:Ve};const We={assemblies:[]},Je={assembliesSelected:e=>e.assemblies.filter((e=>!0===e.selected))},Ke={updateAssembliesAction({commit:e},t){e("updateAssemblies",t)},updateIsSelectedStateAction({commit:e},t){e("updateIsSelectedState",t)},updateIsNotSelectedStateAction({commit:e},t){e("updateIsNotSelectedState",t)},updateOverMousedStateAction({commit:e},t){e("updateOverMousedState",t)},updateNoMoreOverMousedStateAction({commit:e},t){e("updateNoMoreOverMousedState",t)}},Ne={updateAssemblies(e,t){e.assemblies=t},updateIsSelectedState(e,t){e.assemblies=e.assemblies.map((e=>(t.assembly_name===e.assembly_name&&(e.selected=!0),e)))},updateIsNotSelectedState(e,t){e.assemblies=e.assemblies.map((e=>(t.assembly_name===e.assembly_name&&(e.selected=!1),e)))},updateOverMousedState(e,t){e.assemblies=e.assemblies.map((e=>(t.assembly_name===e.assembly_name&&(e.overMoused=!0),e)))},updateNoMoreOverMousedState(e,t){e.assemblies=e.assemblies.map((e=>(t.assembly_name===e.assembly_name&&(e.overMoused=!1),e)))}};var Oe={namespaced:!0,state:We,getters:Je,mutations:Ne,actions:Ke};const Pe={chart:{}},Ee={updateChart(e,t){e.chart=t}},Ze={updateChartAction({commit:e},t){e("updateChart",t)}};var Qe={namespaced:!0,state:Pe,mutations:Ee,actions:Ze},qe=(0,y.MT)({modules:{assemblies:Oe,pangenomes:De,chart:Qe}}),xe=(a(9773),a(9811)),He=(0,xe.Rd)();async function Te(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var Be=a(7428);a(2095);Te();const Ye=(0,s.ri)(A);Ye.use(Ie).use(qe).use(He).use(Be.XS).mount("#app")},6547:function(e,t,a){e.exports=a.p+"img/0.d8858535.png"},8316:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYoAAAGKCAMAAAAloPYiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAAAAAKVnuc8AAAABdFJOU53OWDefAAAACXBIWXMAADLAAAAywAEoZFrbAAADXklEQVR4Xu3RMQEAAAzDoM6/6dnIARbYjgQTHSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKDBUZKjJUZKjIUJGhIkNFhooMFRkqMlRkqMhQkaEiQ0WGigwVGSoyVGSoyFCRoSJDRYaKjLlouD1A9V5/8S81rgAAAABJRU5ErkJggg=="},3758:function(e,t,a){e.exports=a.p+"img/25.a63c9201.png"},5931:function(e,t,a){e.exports=a.p+"img/50.6c660b0a.png"},2372:function(e,t,a){e.exports=a.p+"img/75.29e2e602.png"}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var l=1/0;for(m=0;m<e.length;m++){s=e[m][0],o=e[m][1],n=e[m][2];for(var i=!0,r=0;r<s.length;r++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(i=!1,n<l&&(l=n));if(i){e.splice(m--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,o){if(1&o&&(s=this(s)),8&o)return s;if("object"===typeof s&&s){if(4&o&&s.__esModule)return s;if(16&o&&"function"===typeof s.then)return s}var n=Object.create(null);a.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&s;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){l[e]=function(){return s[e]}}));return l["default"]=function(){return s},a.d(n,l),n}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+{443:"about",461:"webfontloader"}[e]+"."+{443:"c4ec0ba8",461:"0eb9f7c1"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="pange_selector_panache:";a.l=function(s,o,n,l){if(e[s])e[s].push(o);else{var i,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),m=0;m<c.length;m++){var u=c[m];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=s),e[s]=[o];var d=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var o=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),r&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/PanachePangenomeSelector/"}(),function(){var e={143:0};a.f.j=function(t,s){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise((function(a,s){o=e[t]=[a,s]}));s.push(o[2]=n);var l=a.p+a.u(t),i=new Error,r=function(s){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",i.name="ChunkLoadError",i.type=n,i.request=l,o[1](i)}};a.l(l,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,l=s[0],i=s[1],r=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(r)var m=r(a)}for(t&&t(s);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},s=self["webpackChunkpange_selector_panache"]=self["webpackChunkpange_selector_panache"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1831)}));s=a.O(s)})();
//# sourceMappingURL=app.d7abe994.js.map